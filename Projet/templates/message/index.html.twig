{# templates/message/index.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Vos messages{% endblock %}

{% block body %}
    <h1>Vos messages</h1>

    <h2>Messages envoyés</h2>
    <ul>
        {% for message in sentMessages %}
            <li>
                À {{ message.receiver.username }} : {{ message.content }}
                <small class="text-muted">{{ message.sentAt|date('d-m-Y H:i') }}</small>
            </li>
        {% else %}
            <li>Vous n'avez pas encore envoyé de message.</li>
        {% endfor %}
    </ul>

    <h2>Messages reçus</h2>
    <ul>
        {% for message in receivedMessages %}
            <li>
                De {{ message.sender.username }} : {{ message.content }}
                <small class="text-muted">{{ message.sentAt|date('d-m-Y H:i') }}</small>
            </li>
        {% else %}
            <li>Vous n'avez pas encore reçu de message.</li>
        {% endfor %}
    </ul>

    <a href="{{ path('message_new') }}">Envoyer un nouveau message</a>
{% endblock %}
